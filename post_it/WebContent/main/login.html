<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="jquery-3.2.1.min.js"></script>
<script>
$(document).ready(function(){
	$("#ajax_btn").on('click',function(){
		requestAjax();
		//requestAjax(1); 1페이지
	});//on end
	
	function requestAjax(){
		//function requestAjax(page){
		$.ajax({
			url:"login.jsp",
			type:'post',
			//data:{'id':$("#id").val() ,'pw': $("#pw").val() },
			data: $("#fm").serializeArray(),
			//data:{'pagenum':page},
			//fm이라는 form 에 들어가있는거를 name에 들어간 속성을 value로 처리해줌'
			dataType:'text',
			success:function(server_result){
				//위에문장 성립X? 실행 X
				var server_json =JSON.parse(server_result);
				if(server_json.auth == true){
					/* 성공시? 메인화면에 아디랑 비번이 박혀있어야한다!? */
				}
				else{
					$("#result").text("아이디 또는 암호를 확인하세요");
					$("#result").css('color', 'red');
				}
			} ,
			error:function(e){ alert(e);} ,
			complete:function(){alert("로그인 성공")}
		});//ajax-end
	}//requestAjax-end
}); //ready-end

</script>
</head>
<body>

<form id="fm" action="register.jsp" method="post">
ID:<input type= text id="id" name="email"><br>
<!-- name속성은 ? id속성은 jquery나 애들한테 보낼때 -->
Password:<input type="password" id="pw" name="password"><br>

<input type="button" id="ajax_btn" value="LOG IN">
<input type="submit" value="Register">
</form>

<div id="result" > </div>

</body>
</html>